(this.webpackJsonphakaton_frontend=this.webpackJsonphakaton_frontend||[]).push([[0],{33:function(e,t,n){e.exports=n(62)},38:function(e,t,n){},39:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(26),c=n.n(r),i=(n(38),n(9)),u=n(7),o=(n(39),n(1)),s=n(27),m=n(28),d=n(29),p=n.n(d),E=function(){function e(){var t=this;Object(s.a)(this,e),this._axios=void 0,this.getAvailableCell=function(e){return t._axios.post("/get_available_cell",{barcode:e})},this.processItem=function(e,n){return t._axios.post("/put_in_cell",{barcode:n,cell:e})},this.getDelivery=function(e){return t._axios.post("/give_item",{userCode:e})},this.updateDelivery=function(e,n){return t._axios.post("/fix_given_item",{id:e,items:n})},this.postReturn=function(e){return t._axios.post("/return_item",{barcode:e})},this._axios=p.a.create({baseURL:"https://aviahack-mai-2020.herokuapp.com/"})}return Object(m.a)(e,null,[{key:"getInstance",value:function(){return this.instance||(this.instance=new this),this.instance}}]),e}();E.instance=void 0;var b=E.getInstance(),v=function(){var e=a.useState(0),t=Object(o.a)(e,2),n=t[0],l=t[1],r=a.useState(null),c=Object(o.a)(r,2),i=c[0],u=c[1],s=a.useState(!1),m=Object(o.a)(s,2),d=m[0],p=m[1],E=a.useState(!1),v=Object(o.a)(E,2),f=v[0],h=v[1],g=a.useState(null),y=Object(o.a)(g,2),N=y[0],k=y[1];return a.createElement("div",{className:"page"},a.createElement("h2",null,"\u041f\u0440\u0438\u0435\u043c \u0442\u043e\u0432\u0430\u0440\u0430"),a.createElement("div",{className:"form item-reception-form",style:{width:"300px"}},a.createElement("div",{className:"form-input"},a.createElement("label",{htmlFor:"barcode-input"},"\u0428\u0442\u0440\u0438\u0445\u043a\u043e\u0434 \u0442\u043e\u0432\u0430\u0440\u0430"),a.createElement("input",{id:"barcode-input",disabled:!!i||d,type:"number",value:n||"",onChange:function(e){return l(parseInt(e.currentTarget.value,10))}})),a.createElement("button",{disabled:!!i||d,type:"button",onClick:function(){p(!0),b.getAvailableCell(n).then((function(e){var t=e.data.cell;u({id:t}),k(null)})).catch((function(e){var t=e.response.data;return k(t.error)})).finally((function(){p(!1)}))}},"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u044f\u0447\u0435\u0439\u043a\u0443"),N?a.createElement("span",{className:"error"},N):"",i?a.createElement("div",null,a.createElement("h2",null,"\u042f\u0447\u0435\u0439\u043a\u0430: ",i.id),a.createElement("p",null,"\u0420\u0430\u0437\u043c\u0435\u0441\u0442\u0438\u0442\u0435 \u0442\u043e\u0432\u0430\u0440 \u0432 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0439 \u044f\u0447\u0435\u0439\u043a\u0435"),a.createElement("button",{disabled:!i||d||f,type:"button",onClick:function(){p(!0),b.processItem(i.id,n).then((function(e){p(!1),h(!0),console.log("\u0412\u0435\u0449\u044c ".concat(e," \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0430 \u0432 \u044f\u0447\u0435\u0439\u043a\u0435 ").concat(i.id)),setTimeout((function(){h(!1),l(0),u(null)}),3e3)}))}},"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u0435")):"",f?a.createElement("span",null,"\u041e\u0442\u043b\u0438\u0447\u043d\u043e, \u0441\u043f\u0430\u0441\u0438\u0431\u043e!"):""))},f=n(32),h=function(e){var t=e.delivery,n=e.onDeliveryReceived,l=a.useState([]),r=Object(o.a)(l,2),c=r[0],i=r[1],u=Array.from(new Set(t.items.map((function(e){return e.cellId})))).filter((function(e){return null!==e}));return a.createElement("div",{className:"delivery"},a.createElement("h2",null,"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430 ",a.createElement("b",null,"\u2116",t.id)," ",t.client?a.createElement(a.Fragment,null,"\u0434\u043b\u044f ",a.createElement("b",null,t.client.FIO)):"",a.createElement("br",null),a.createElement("small",null,1===u.length?"\u042f\u0447\u0435\u0439\u043a\u0430: ".concat(u[0]):0===u.length?"":"\u042f\u0447\u0435\u0439\u043a\u0438: ".concat(u.join(" \u0438 ")))),a.createElement("div",{className:"delivery-data"},a.createElement("div",{className:"delivery-items-list"},a.createElement("h3",null,"\u0422\u043e\u0432\u0430\u0440\u044b:",a.createElement("br",null),a.createElement("small",null,"\u041e\u0442\u043c\u0435\u0442\u044c\u0442\u0435 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b")),t.items.map((function(e){return a.createElement("div",{className:"delivery-item",key:e.id},a.createElement("span",null,a.createElement("input",{type:"checkbox",checked:c.includes(e.barcode),onChange:function(){return t=e.barcode,void(c.includes(t)?i(c.filter((function(e){return e!==t}))):i([].concat(Object(f.a)(c),[t])));var t}})),a.createElement("span",null,a.createElement("b",null,"\u041a\u043e\u0434: "),e.barcode),a.createElement("span",null,a.createElement("b",null,"\u0414\u0430\u0442\u0430 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438: "),e.deliveredDate||"-"),a.createElement("span",null,a.createElement("b",null,"\u042f\u0447\u0435\u0439\u043a\u0430: "),e.cellId||"-"),a.createElement("span",null,a.createElement("b",null,"ID \u0412\u043e\u0437\u0432\u0440\u0430\u0442\u0430: "),e.returnId||"-"))}))),t.client&&a.createElement("div",{className:"delivery-client-info"},a.createElement("h3",null,"\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c:"),a.createElement("span",null,a.createElement("b",null,"\u0424\u0418\u041e: "),t.client.FIO),a.createElement("span",null,a.createElement("b",null,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d: "),t.client.telNumber),t.client.passport?a.createElement("span",null,a.createElement("b",null,"\u041f\u0430\u0441\u043f\u043e\u0440\u0442: "),t.client.passport):"")),a.createElement("button",{type:"button",onClick:function(){return n(c)}},"\u0413\u043e\u0442\u043e\u0432\u043e"))},g=function(){var e=a.useState(""),t=Object(o.a)(e,2),n=t[0],l=t[1],r=a.useState(null),c=Object(o.a)(r,2),i=c[0],u=c[1],s=a.useState(!1),m=Object(o.a)(s,2),d=m[0],p=m[1],E=a.useState(!1),v=Object(o.a)(E,2),f=v[0],g=v[1],y=a.useState(null),N=Object(o.a)(y,2),k=N[0],O=N[1];return a.createElement("div",{className:"page"},a.createElement("h2",null,"\u0412\u044b\u0434\u0430\u0447\u0430 \u0442\u043e\u0432\u0430\u0440\u0430"),a.createElement("div",{className:"form item-issue-form",style:{width:"300px"}},a.createElement("div",{className:"form-input"},a.createElement("label",{htmlFor:"usercode-input"},"\u041a\u043e\u0434 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f:"),a.createElement("input",{id:"usercode-input",disabled:d,type:"text",value:n,onChange:function(e){return l(e.currentTarget.value)}})),a.createElement("button",{disabled:d,type:"button",onClick:function(){p(!0),O(null),b.getDelivery(n).then((function(e){var t=e.data;return u(t)})).catch((function(e){var t=e.response.data;return O(t.error)})).finally((function(){p(!1)}))}},"\u0417\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c")),k?a.createElement("span",{className:"error"},k):"",d?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":"",i?a.createElement(h,{delivery:i,onDeliveryReceived:function(e){p(!0),b.updateDelivery(i.id,e).then((function(e){var t=e.data;p(!1),g(!0),console.log("\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430 \u043e\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u0430",t),setTimeout((function(){g(!1),l(""),u(null)}),3e3)}))}}):"",f?a.createElement("h3",null,"\u041e\u0442\u043b\u0438\u0447\u043d\u043e, \u0441\u043f\u0430\u0441\u0438\u0431\u043e!"):"")},y=function(){var e=a.useState(0),t=Object(o.a)(e,2),n=t[0],l=t[1],r=a.useState(!1),c=Object(o.a)(r,2),i=c[0],u=c[1],s=a.useState(!1),m=Object(o.a)(s,2),d=m[0],p=m[1],E=a.useState(null),v=Object(o.a)(E,2),f=v[0],h=v[1];return a.createElement("div",{className:"page"},a.createElement("h2",null,"\u0412\u043e\u0437\u0432\u0440\u0430\u0442 \u0442\u043e\u0432\u0430\u0440\u0430"),a.createElement("div",{className:"form item-issue-form",style:{width:"300px"}},a.createElement("div",{className:"form-input"},a.createElement("label",{htmlFor:"return-usercode-input"},"\u041a\u043e\u0434 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f:"),a.createElement("input",{id:"return-usercode-input",disabled:i,type:"number",value:n||"",onChange:function(e){return l(parseInt(e.currentTarget.value,10))}})),a.createElement("button",{disabled:i,type:"button",onClick:function(){u(!0),h(null),b.postReturn(n).then((function(e){var t=e.data;p(!0),console.log("\u0412\u043e\u0437\u0432\u0440\u0430\u0442 \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d",t),setTimeout((function(){p(!1),l(0)}),2e3)})).catch((function(e){var t=e.response.data;return h(t.error)})).finally((function(){u(!1)}))}},"\u0417\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c")),f?a.createElement("span",{className:"error"},f):"",i?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":"",d?a.createElement("h3",null,"\u0412\u043e\u0437\u0432\u0440\u0430\u0442 \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d, \u0441\u043f\u0430\u0441\u0438\u0431\u043e!"):"")},N=function(){return a.createElement("nav",{className:"sidebar"},a.createElement("div",{className:"wb-logo"},a.createElement("img",{src:"https://halykhelp.kz/wp-content/uploads/2018/08/Wildberries-logo.png",alt:"wb_logo"}),a.createElement("span",null,"\u041f\u0443\u043d\u043a\u0442 \u0432\u044b\u0434\u0430\u0447\u0438 \u0437\u0430\u043a\u0430\u0437\u043e\u0432")),a.createElement(i.b,{to:"/reception"},"\u041f\u0440\u0438\u0435\u043c"),a.createElement(i.b,{to:"/issue"},"\u0412\u044b\u0434\u0430\u0447\u0430"),a.createElement(i.b,{to:"/return"},"\u0412\u043e\u0437\u0432\u0440\u0430\u0442"))},k=function(){return a.createElement(i.a,null,a.createElement("div",{id:"app"},a.createElement(N,null),a.createElement(u.c,null,a.createElement("div",{className:"workspace"},a.createElement(u.a,{exact:!0,path:["/","/reception"]},a.createElement(v,null)),a.createElement(u.a,{path:"/issue"},a.createElement(g,null)),a.createElement(u.a,{path:"/return"},a.createElement(y,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.facef9a0.chunk.js.map